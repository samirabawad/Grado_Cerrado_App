<ion-content class="civil-content">
  <!-- Header personalizado -->
  <div class="custom-header-section">
    <div class="orange-background">
      <!-- Imagen de extremo a extremo -->
      <div class="derecho-civil-container-full">
        <img src="assets/image/civil/logo_civil.png" alt="Derecho Civil" class="derecho-civil-image-responsive">
      </div>
    </div>
  </div>

  <!-- Resto del contenido -->
  <div class="content-area">
    
    <!-- Progreso Civil con estadísticas reales -->
    <div class="progreso-card">
      <div class="progreso-info-full">
        <h4>Progreso Civil</h4>
        
        <ng-container *ngIf="!isLoading && civilStats">
          <p>{{ civilStats.correctAnswers }}/{{ civilStats.totalQuestions }} preguntas correctas</p>
          <div class="progress-bar">
            <div class="progress-fill" [style.width.%]="civilStats.successRate"></div>
          </div>
          <span class="progress-text">{{ civilStats.successRate }}% completado</span>
        </ng-container>
        
        <ng-container *ngIf="!isLoading && !civilStats">
          <p>Aún no tienes progreso</p>
          <div class="progress-bar">
            <div class="progress-fill" style="width: 0%"></div>
          </div>
          <span class="progress-text">0% completado</span>
        </ng-container>
        
        <ng-container *ngIf="isLoading">
          <p>Cargando...</p>
          <div class="progress-bar">
            <div class="progress-fill" style="width: 0%"></div>
          </div>
          <span class="progress-text">...</span>
        </ng-container>
      </div>
    </div>

    <!-- Botones de Material -->
    <div class="material-buttons">
      <img src="assets/image/botones/Material_Estudio.png" alt="Material de Estudio" class="material-image-button" (click)="goToMaterialEstudio()">
      <img src="assets/image/botones/Plan_Estudio.png" alt="Plan de Estudio" class="material-image-button" (click)="goToPlanEstudio()">
    </div>

    <!-- Botones de Práctica -->
    <div class="practice-buttons">
      <img src="assets/image/botones/escrito.png" alt="Escrito" class="practice-image-button" (click)="goToEscrito()">
      
      <img src="assets/image/botones/concersacion.png" alt="Conversación" class="practice-image-button" (click)="goToConversacion()">
      
      <img src="assets/image/botones/reforzar.png" alt="Test" class="practice-image-button" (click)="goToTest()">
    </div>

    <!-- Carrusel de imágenes del mapache -->
    <div class="banner-section">
      <div class="carousel-container">
        <img 
          *ngFor="let image of carouselImages; let i = index"
          [src]="image" 
          [alt]="'Mapache ' + (i + 1)"
          class="carousel-image"
          [class.active]="currentImageIndex === i">
        
        <div class="carousel-indicators">
          <div 
            *ngFor="let image of carouselImages; let i = index"
            class="indicator"
            [class.active]="currentImageIndex === i"
            (click)="goToSlide(i)">
          </div>
        </div>
      </div>
    </div>

  </div>

  <!-- Bottom Navigation Component -->
  <app-bottom-nav></app-bottom-nav>

</ion-content>